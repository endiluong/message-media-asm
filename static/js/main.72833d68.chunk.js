(this["webpackJsonpmessage-media-asm"]=this["webpackJsonpmessage-media-asm"]||[]).push([[0],{50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},61:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(14),a=n.n(r),s=n(10),i=(n(50),function(){return Object(c.jsx)("div",{className:"header-box",children:Object(c.jsx)("h1",{className:"display-5",children:"Giphy Images"})})}),o=n(12),l=n(2),u="IMAGES_LOAD",j="IMAGES_LOAD_SUCCESS",d="IMAGES_LOAD_FAIL",b="SET_OFFSET",m="".concat("https://api.giphy.com","/").concat("v1/gifs"),f=function(e){return{type:j,images:e}},O=function(e){return{type:b,offset:e}},p=n(39),x=(n(51),function(e){var t=function(){e.onClose()};return function(){var n=e.isOpen,r=e.images,a=e.title;return r&&n?Object(c.jsx)("div",{className:"lightbox ".concat(n&&"show"),onClick:t,children:Object(c.jsx)("div",{className:"lightbox-wrapper",children:Object(c.jsxs)("picture",{className:"lightbox-image",children:[Object(c.jsx)("source",{srcSet:r.downsized.url,type:"image/gif"}),Object(c.jsx)("img",{src:r["480w_still"].url,alt:a})]})})}):null}()}),g=(n(52),function(e){var t=Object(l.useState)(!1),n=Object(o.a)(t,2),r=n[0],a=n[1];return function(){var t=e.image,n=t.title,s=t.images,i=t.user;return Object(c.jsx)("div",{className:"col-6 col-md-4 col-lg-3",children:Object(c.jsxs)("section",{className:"card",children:[Object(c.jsxs)("div",{className:"card-wrapper",children:[Object(c.jsxs)("picture",{className:"card-image",onClick:function(){a(!0)},children:[Object(c.jsx)("source",{srcSet:s.preview_webp.url,type:"image/webp"}),Object(c.jsx)("source",{srcSet:s["480w_still"].url,type:"image/jpeg"}),Object(c.jsx)("img",{src:s["480w_still"].url,alt:n})]}),Object(c.jsxs)("div",{className:"card-bottom d-flex align-items-center justify-content-between",children:[Object(c.jsx)("div",{className:"mr-auto",children:Object(c.jsx)("i",{className:"fas fa-paperclip f6"})}),Object(c.jsxs)("div",{className:"ml-auto",children:[Object(c.jsx)("span",{className:"ml-2",children:Object(c.jsx)("i",{className:"fas fa-eye mr-2"})}),Object(c.jsxs)("span",{className:"ml-2",children:[Object(c.jsx)("i",{className:"fas fa-comment mr-2"})," "]}),Object(c.jsx)("span",{className:"ml-2",children:Object(c.jsx)("i",{className:"fas fa-heart mr-2"})})]})]})]}),Object(c.jsxs)("div",{className:"card-user",children:[Object(c.jsx)("span",{className:"card-user__avatar",children:Object(c.jsx)("img",{src:null===i||void 0===i?void 0:i.avatar_url,alt:null===i||void 0===i?void 0:i.display_name})}),Object(c.jsx)("span",{className:"card-user__name",children:null===i||void 0===i?void 0:i.username})]}),Object(c.jsx)(x,Object(p.a)({isOpen:r,onClose:function(){a(!1)}},t))]})})}()}),h=n(35),v=n.n(h),N=(n(61),function(e){var t=Object(l.useState)(null),n=Object(o.a)(t,2),r=n[0],a=n[1],s=e.isLoading,i=void 0!==s&&s,u=e.images,j=void 0===u?[]:u,d=e.error,b=void 0===d?null:d,m=e.onPageChange,f=Object(l.useCallback)((function(){var e=r.scrollHeight,t=r.scrollTop,n=r.clientHeight;m(n+t===e)}),[m,r]);return Object(c.jsx)(c.Fragment,{children:b?Object(c.jsxs)("div",{id:"error-box",className:"row d-flex flex-column justify-content-center align-items-center p-3",children:[Object(c.jsx)("h5",{className:"text-danger",children:b.message}),Object(c.jsx)("button",{className:"btn btn-primary",onClick:function(){return window.location.reload()},children:"Reload Page"})]}):Object(c.jsxs)("div",{ref:function(e){a(e)},className:"image-grid container-fluid pt-3",onScroll:v()(f,100,{leading:!0,trailing:!0}),children:[Object(c.jsx)("div",{className:"row",children:null===j||void 0===j?void 0:j.map((function(e){return Object(c.jsx)(g,{image:e},e.id)}))}),i?Object(c.jsx)("div",{className:"progress-line"}):null]})})}),w=function(){var e=Object(s.b)(),t=Object(l.useState)(!1),n=Object(o.a)(t,2),r=n[0],a=n[1];Object(l.useEffect)((function(){e({type:u})}),[e,r]);var i=Object(s.c)((function(e){return e.isLoading})),j=Object(s.c)((function(e){return e.images})),d=Object(s.c)((function(e){return e.error})),b=function(e){a(e)};return Object(c.jsx)(N,{images:j,isLoading:i,error:d,onPageChange:b})},_=n(7),y=n(38),S=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return!0;case j:case d:return!1;default:return e}},E=n(21),k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t.type===j?[].concat(Object(E.a)(e),Object(E.a)(t.images)):e},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return t.error;case j:case u:return null;default:return e}},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return t.offset;default:return e}},A=Object(_.c)({isLoading:S,images:k,error:C,offset:L}),D=n(9),T=n.n(D),I=n(11),G=n(36),F=n(37),J=n.n(F).a.create({baseURL:m,headers:{Accept:"application/json","Content-Type":"application/json"}}),M=function(){var e=Object(G.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.get("/trending",{params:{api_key:"mDxBZ8g8muJniGkZE9PMb8JYc7Azs9yQ",limit:20,offset:t}});case 2:if(!((n=e.sent).status>=400)){e.next=5;break}throw new Error(n.errors);case 5:return e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=T.a.mark(X),R=T.a.mark(z),U=function(e){return e.offset};function X(){var e,t,n,c;return T.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(I.c)(U);case 3:return e=r.sent,r.next=6,Object(I.a)(M,e);case 6:if(!(t=r.sent)){r.next=13;break}return n=t.data,c=t.pagination,r.next=11,Object(I.b)(f(n));case 11:return r.next=13,Object(I.b)(O(c.offset+20));case 13:r.next=19;break;case 15:return r.prev=15,r.t0=r.catch(0),r.next=19,Object(I.b)((a=r.t0,{type:d,error:a}));case 19:case"end":return r.stop()}var a}),P,null,[[0,15]])}function z(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.d)(u,X);case 2:case"end":return e.stop()}}),R)}var H=z,V=function(){var e=Object(y.a)(),t=Object(_.e)(A,Object(_.d)(Object(_.a)(e),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));return e.run(H),t},Z=(n(81),n(82),V()),q=function(){return Object(c.jsx)(s.a,{store:Z,children:Object(c.jsxs)("div",{className:"app",children:[Object(c.jsx)(i,{}),Object(c.jsx)(w,{className:"grid"})]})})};a.a.render(Object(c.jsx)(q,{}),document.querySelector("#root"))}},[[83,1,2]]]);
//# sourceMappingURL=main.72833d68.chunk.js.map